<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ include file="../include/head.jsp" %> 
<script>
var IsDuplicate = false;

$(document).ready(function()
{
	$("#uid").focus();	
	
	$("#uid").keyup(function(){
		IsDuplicate = false;
		userid = $(this).val();
		if(uid == "")
		{
			$("#btnmsg").html("ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
			return;
		}
		$.ajax({
			url : "idcheck.jsp?uid=" + userid,
			type : "get",
			dataType : "html",
			success : function(result)
			{
				result = result.trim();
				switch(result)
				{
				case "00" : 
					$("#btnmsg").html("ì•„ì´ë”” ì²´í¬ ì˜¤ë¥˜ì…ë‹ˆë‹¤.");
					$("#btnmsg").css("color","blue");
					break;
				case "01" : 
					$("#btnmsg").html("ì¤‘ë³µëœ ì•„ì´ë””ì…ë‹ˆë‹¤.");
					$("#btnmsg").css("color","red");
					IsDuplicate = true;
					break;
				case "02" : 
					$("#btnmsg").html("ì‚¬ìš© ê°€ëŠ¥í•œ ì•„ì´ë””ì…ë‹ˆë‹¤.");
					$("#btnmsg").css("color","green");
					break;
				}
			}
		});
	});
	
	
	
	$("#unick").keyup(function(){
		NickDuplicate = false;
		usernick = $(this).val();
		
		$.ajax({
			url : "../master/nickcheck.jsp?unick=" + usernick,
			type : "get",
			dataType : "html",
			success : function(result)
			{
				result = result.trim();
				switch(result)
				{
				case "00" : 
					$("#nickcheck").html("ë‹‰ë„¤ì„ ì²´í¬ ì˜¤ë¥˜ì…ë‹ˆë‹¤.");
					$("#nickcheck").css("color","blue");
					break;
				case "01" : 
					$("#nickcheck").html("ì¤‘ë³µëœ ë‹‰ë„¤ì„ì…ë‹ˆë‹¤.");
					$("#nickcheck").css("color","red");
					NickDuplicate = true;
					break;
				case "02" : 
					$("#nickcheck").html("ì‚¬ìš© ê°€ëŠ¥í•œ ë‹‰ë„¤ì„ì…ë‹ˆë‹¤.");
					$("#nickcheck").css("color","green");
					break;
				}
			}
		});
	});
});

//ë©”ì¼ ë°œì†¡
function SendMail()
{
	var umail = $("#email").val();
	if( umail.indexOf("@") <= 0 )
	{
		alert("ì˜¬ë°”ë¥¸ ë©”ì¼ì£¼ì†Œê°€ ì•„ë‹™ë‹ˆë‹¤.");
		$("#email").focus();
		return;
	}
	$.ajax({
		type : "get",
		url: "sendmail.jsp?mail=" + umail,
		dataType: "html",
		success : function(result) 
		{
			result = result.trim();
			alert(result);
		}			
	});		
}

//íšŒì›ê°€ì…ì²˜ë¦¬
function DoJoin()
{
	if($("#uid").val() == "")
	{
		alert("ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
		$("#uid").focus();
		return;
	}
	if(IsDuplicate == true)
	{
		alert("ì¤‘ë³µëœ ì•„ì´ë””ì…ë‹ˆë‹¤. ìƒˆë¡œìš´ ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
		$("#uid").focus();
		return;
	}
	
	if($("#upw").val() == "")
	{
		alert("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
		$("#upw").focus();
		return;
	}
	
	if($("#upw").val() != $("#pwcheck").val())
	{
		alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
		$("#pwcheck").focus();
		return;
	}
	
	if($("#uname").val() == "")
	{
		alert("ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.");
		$("#uname").focus();
		return;
	}
	
	if($("#season").val() == "")
	{
		alert("ê³„ì ˆì„ ì„ íƒí•˜ì„¸ìš”.");
		$("#season").focus();
		return;
	}
	
	if($("#local").val() == "")
	{
		alert("ì§€ì—­ì„ ì„ íƒí•˜ì„¸ìš”.");
		$("#local").focus();
		return;
	}
	
	if($("#code").val() == "")
	{
		alert("ë©”ì¼ì¸ì¦ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
		$("#code").focus();
		return;
	}	
	
	
	if($("#sign").val() == "")
	{
		alert("ê°€ì…ë°©ì§€ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
		$("#sign").focus();
		return;
	}
	
	$.ajax({
		type : "get",
		url: "getcode.jsp",
		dataType: "html",
		success : function(result) 
		{
			result = result.trim();
			if($("#code").val() == result)
			{
				$.ajax({
					url : "getsign.jsp",
					type : "get",
					dataType : "html",
					success : function(result)
					{
						result = result.trim();
						if($("#sign").val() == result)
						{
							if(confirm("íšŒì›ê°€ì…ì„ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?") == 1)
							{
								$("#join").submit();
							}
						}else
						{
							alert("ê°€ì…ë°©ì§€ì½”ë“œê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
							$("#sign").focus();
						}
					}
				});
			}else
			{
				alert("ì¸ì¦ì½”ë“œê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
				$("#code").focus();
			}
		}			
	});	
	
}


function DoEmail()
{
	if($("#code").val() == "")
	{
		alert("ì¸ì¦ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
		$("#code").focus();
		return;
	}		
	
	$.ajax({
		type : "get",
		url: "getcode.jsp",
		dataType: "html",
		success : function(result) 
		{
			result = result.trim();
			if($("#code").val() == result)
			{
				alert("ì¸ì¦ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");			
			}else
			{
				alert("ì¸ì¦ì½”ë“œê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
				$("#code").focus();
			}
		}			
	});		
}


</script>
	<form method="post" action="joinok.jsp" id="join" name="join">
		<table border="0" width="100%">
			<tr>
				<td colspan="4" align="center" style="font-size:60px; height:90px;" ><strong>íšŒì›ê°€ì…</strong></td>
			</tr>
			<tr>
				<td width="25%">
				<td width="450px" align="left" style="vertical-align:top;">
					<h2 style="margin: 0px 0px 0px 0px">ì•„ì´ë””</h2>
					<input type="text" id="uid" name="uid" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”." style="width:80%; font-size:18px; "><br>
					<span id="btnmsg" style="margin-top:0px; width: 70pt; height: 25pt; font-size:18px; font-weight:bold; margin-left:5px"></span><br>
					<h2 style="margin: 15px 0px 0px 0px">ë¹„ë°€ë²ˆí˜¸</h2>
					<input type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”." id="upw" name="upw" style="width:80%; font-size:18px;"><br>
					<h2 style="margin: 15px 0px 0px 0px">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</h2>
					<input type="password" name="pwcheck" id="pwcheck" style="width:80%; font-size:18px;"><br>
					<h2 style="margin: 15px 0px 0px 0px">ì´ë¦„</h2>
					<input type="text"  name="uname" id="uname"  style="width:80%; font-size:18px;"><br>
					<h2 style="margin: 15px 0px 0px 0px">ë‹‰ë„¤ì„</h2>
					<input type="text"  name="unick" id="unick"  style="width:80%; font-size:18px; height:60px;"><br>
					<span id="nickcheck" style="margin-top:0px; width: 70pt; height: 25pt; font-size:18px; font-weight:bold; margin-left:5px"></span>
				</td>
				<td style="vertical-align:top;" colspan="2">
				<h2 style="margin: 0px 0px 15px 0px">ì¶”ì²œëª©ë¡(ê²€ìƒ‰ëª©ë¡ì—ì„œ ì¶”ì²œí•­ëª©ì„ ì†Œê°œí•´ ë“œë¦½ë‹ˆë‹¤. )</h2>
					âœ”ï¸<select id="season" name="season" style="width:200px; font-size:17px;">
						<option value="">ê³„ì ˆ</option>
						<option value="ë´„">ë´„</option>
						<option value="ì—¬ë¦„">ì—¬ë¦„</option>
						<option value="ê°€ì„">ê°€ì„</option>
						<option value="ê²¨ìš¸">ê²¨ìš¸</option>
					</select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<select id="move" name="move" style="width:200px; font-size:17px;">
						<option value="">ì´ë™</option>
						<option value="ë²„ìŠ¤">ë²„ìŠ¤</option>
						<option value="ê¸°ì°¨">ê¸°ì°¨</option>
						<option value="ìê°€ìš©">ìê°€ìš©</option>
						<option value="ìì „ê±°">ìì „ê±°</option>
					</select>
					<br>	
					âœ”ï¸<select id="local" name="local" style="width:200px; font-size:17px;">
						<option value="">ì§€ì—­</option>
						<option value="ì„œìš¸ê²½ê¸°ë„">ì„œìš¸,ê²½ê¸°ë„</option>
						<option value="ê°•ì›ë„">ê°•ì›ë„</option>
						<option value="ì¶©ì²­ë„">ì¶©ì²­ë„</option>
						<option value="ì „ë¶">ì „ë¼ë¶ë„</option>
						<option value="ì „ë‚¨">ì „ë¼ë‚¨ë„</option>
						<option value="ê²½ë¶">ê²½ìƒë¶ë„</option>
						<option value="ê²½ë‚¨">ê²½ìƒë‚¨ë„</option>
						<option value="ì œì£¼">ì œì£¼ë„</option>
					</select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<select id="schedule" name="schedule" style="width:200px; font-size:17px;">
						<option value="">ì¼ì •</option>
						<option value="ë‹¹ì¼">ë‹¹ì¼</option>
						<option value="ìˆ™ë°•">ìˆ™ë°•</option>
					</select>
					<br>
					&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<select id="human" name="human" style="width:200px; font-size:17px;">
						<option value="">ë™í–‰</option>
						<option value="ê°€ì¡±">ê°€ì¡±</option>
						<option value="ì—°ì¸">ì—°ì¸</option>
						<option value="ì¹œêµ¬">ì¹œêµ¬</option>
						<option value="ë°˜ë ¤ê²¬">ë°˜ë ¤ê²¬</option>
					</select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					<select id="uinout" name="uinout" style="width:200px; font-size:17px;">
						<option value="">ì¥ì†Œ</option>
						<option value="ì‹¤ë‚´">ì‹¤ë‚´</option>
						<option value="ì‹¤ì™¸">ì‹¤ì™¸</option>
					</select>
					<br>
					<br>
					<h2 style="margin: 15px 0px 0px 0px">ì´ëª¨í‹°ì½˜</h2>
					<input type="radio" id="uicon" name="uicon" value="1" checked style="width:20px;height:20px;"><span style="font-size:50px">ğŸ˜„</span>&nbsp;
					<input type="radio" id="uicon" name="uicon" value="2" style="width:20px;height:20px;"><span style="font-size:50px">ğŸ˜†</span>&nbsp;
					<input type="radio" id="uicon" name="uicon" value="3" style="width:20px;height:20px;"><span style="font-size:50px">ğŸ˜…</span>&nbsp;
					<input type="radio" id="uicon" name="uicon" value="4" style="width:20px;height:20px;"><span style="font-size:50px">ğŸ˜€</span>&nbsp;
					<input type="radio" id="uicon" name="uicon" value="5" style="width:20px;height:20px;"><span style="font-size:50px">ğŸ˜¨</span>
					<br>
					<input type="radio" id="uicon" name="uicon" value="6" style="width:20px;height:20px;"><span style="font-size:50px">ğŸ‘¿</span>&nbsp;
					<input type="radio" id="uicon" name="uicon" value="7" style="width:20px;height:20px;"><span style="font-size:50px">ğŸ˜</span>&nbsp;
					<input type="radio" id="uicon" name="uicon" value="8" style="width:20px;height:20px;"><span style="font-size:50px">ğŸ˜·</span>&nbsp;
					<input type="radio" id="uicon" name="uicon" value="9" style="width:20px;height:20px;"><span style="font-size:50px">ğŸ˜´</span>&nbsp;
					<input type="radio" id="uicon" name="uicon" value="10" style="width:20px;height:20px;"><span style="font-size:50px">ğŸ˜±</span>&nbsp;
					<br>
					<br>
					<h2 style="margin: 15px 0px 15px 0px">ê°€ì…ë°©ì§€ì½”ë“œ</h2>
					<img src="./img.jsp" width="180px" height="60px" class="jcheck">&nbsp;&nbsp;
					<input type="text" id="sign" name="sign"><br>
				</td>
			</tr>
			<tr>
				<td></td>
				<td>
					<h2 style="margin: 15px 0px 0px 0px">e-mail</h2>
					<input type="email" id="email" name="email" style="width:60%; font-size:17px;"> 
					<input type="button" onclick="SendMail();" id="sendmail" name="sendmail" value="ì´ë©”ì¼ ì¸ì¦" style="width: 70pt; height: 33pt; font-size:14px; font-weight:bold">
					<h2 style="margin: 15px 0px 0px 0px"><br>ì¸ì¦ë²ˆí˜¸ í™•ì¸</h2>
					<input type="text" id="code" name="code" style="width:60%; font-size:17px; height:50px;">
					<input type="button" onclick="DoEmail();" id="code" name="code" value="ì¸ì¦ì½”ë“œ í™•ì¸" style="width: 70pt; height: 33pt; font-size:14px; font-weight:bold">
				</td>
				<td colspan="2">
					<br><!-- íšŒì›ê°€ì… ì™„ë£Œë²„íŠ¼ -->
					<input type="button" class="jbtn" onclick="DoJoin();" value="íšŒì›ê°€ì… ì™„ë£Œ" style="width:250pt; height:50pt; font-size:28px; margin-left:200px">
				</td>
			</tr>
		</table>
		</form>
	</body>
</html>